version: "3.8"
services:
  spacemacs-application:
    build: .
    environment:
      - DISPLAY=${DISPLAY}
      - SPACEMACS_DOCKER_CONTAINER=true
    volumes:
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ./install-spacemacs:/home/spacemacs/install-spacemacs
      - ./.spacemacs.d/configuration:/home/spacemacs/.spacemacs.d/configuration
      - ./.spacemacs.d/init.el:/home/spacemacs/.spacemacs.d/init.el
      - spacemacs-.emacs.d-volume:/home/spacemacs/.emacs.d
    network_mode: host
volumes:
  spacemacs-.emacs.d-volume:
